import{_ as e,c as i,o as a,ag as t}from"./chunks/framework.DPDPlp3K.js";const o="/assets/subscibe_import_error.Bstq9q4P.png",l="/assets/certificate.C0MtWMpm.png",n="/assets/fixed.BPWfWFMk.webm",r="/assets/invalid_certificate.CDrMl2mz.png",m=JSON.parse('{"title":"Clash Verge Rev 系统文件错误、代理冲突、订阅导入等常见问题修复","description":"全面解决 Clash Verge Rev 的常见通用问题，包括系统文件错误、代理冲突、订阅导入失败、内网访问异常、GPU占用高、命令行代理设置以及与其他软件的兼容性问题等详细解决方案。","frontmatter":{"title":"Clash Verge Rev 系统文件错误、代理冲突、订阅导入等常见问题修复","description":"全面解决 Clash Verge Rev 的常见通用问题，包括系统文件错误、代理冲突、订阅导入失败、内网访问异常、GPU占用高、命令行代理设置以及与其他软件的兼容性问题等详细解决方案。","head":[["meta",{"name":"keywords","content":"Clash Verge Rev 常见问题, 代理冲突, 订阅导入失败, 命令行代理, hosts冲突, Watt Toolkit冲突"}]]},"headers":[],"relativePath":"faq/other.md","filePath":"faq/other.md"}'),c={name:"faq/other.md"};function h(d,s,p,k,g,u){return a(),i("div",null,s[0]||(s[0]=[t(`<h1 id="clashvergerev常见问题" tabindex="-1">ClashVergeRev常见问题 <a class="header-anchor" href="#clashvergerev常见问题" aria-label="Permalink to &quot;ClashVergeRev常见问题&quot;">​</a></h1><h2 id="找不到系统文件-os-error" tabindex="-1">找不到系统文件 os error <a class="header-anchor" href="#找不到系统文件-os-error" aria-label="Permalink to &quot;找不到系统文件 os error&quot;">​</a></h2><p>问题原因:</p><ol><li>内核或配置文件损坏，没找到内核。</li><li>内核文件被杀毒软件删除或添加到了隔离列表。</li></ol><p>解决方案:</p><ol><li>左侧菜单“设置”，右下方找到“配置目录”，删除里面所有文件，重启软件；如果还是不行，则卸载老版本，重新安装。</li><li>如果被杀毒软件误伤，请将文件手动恢复并添加到白名单。</li><li>删除所有数据(<strong>Win</strong>) <code>rm ~\\AppData\\Roaming\\io.github.clash-verge-rev.clash-verge-rev -r -fo</code></li></ol><h2 id="代理后有部分网站无法访问" tabindex="-1">代理后有部分网站无法访问 <a class="header-anchor" href="#代理后有部分网站无法访问" aria-label="Permalink to &quot;代理后有部分网站无法访问&quot;">​</a></h2><p>问题原因：</p><ol><li>可能是其它程序占用代理端口，默认代理端口是<strong>7897</strong>。</li><li>用过不正经的加速器(包括但不限于游戏加速器)，篡改系统<code>hosts</code>。</li></ol><p>解决方案：</p><ul><li>检查系统<code>hosts</code>，删除不正常的条目。</li><li>Windows： <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code></li><li>Linux/MacOS: <code>/etc/hosts</code></li></ul><h2 id="日志过大-占满磁盘" tabindex="-1">日志过大，占满磁盘 <a class="header-anchor" href="#日志过大-占满磁盘" aria-label="Permalink to &quot;日志过大，占满磁盘&quot;">​</a></h2><p>解决方案: 可以将日志等级设置为 <code>Silent</code> 或 <code>Error</code>，并在 <code>杂项设置</code> 中设置自动清理日志间隔。</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For Windows</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rm ~\\AppData\\Roaming\\io.github.clash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">verge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rev.clash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">verge</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rev\\logs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fo</span></span></code></pre></div><h2 id="导入订阅报错-401" tabindex="-1">导入订阅报错 401 <a class="header-anchor" href="#导入订阅报错-401" aria-label="Permalink to &quot;导入订阅报错 401&quot;">​</a></h2><p><img src="`+o+'" alt="导入订阅报错"></p><p>解决方案: 左侧菜单“设置”，右下方找到“配置目录”，删除里面所有文件，重启软件；如果还是不行，则卸载老版本，重新安装。</p><h2 id="导入订阅报错-无效的证书" tabindex="-1">导入订阅报错 无效的证书 <a class="header-anchor" href="#导入订阅报错-无效的证书" aria-label="Permalink to &quot;导入订阅报错 无效的证书&quot;">​</a></h2><blockquote><p>error trying to connect: invalid peer certificate: UnknownIssuer</p></blockquote><p><img src="'+l+`" alt="无效的证书"></p><p>解决方案: 勾选 <code>允许无效证书（危险）</code>。</p><h2 id="proxy-providers-里的机场订阅中的-hy2-节点" tabindex="-1">proxy-providers 里的机场订阅中的 HY2 节点 <a class="header-anchor" href="#proxy-providers-里的机场订阅中的-hy2-节点" aria-label="Permalink to &quot;proxy-providers 里的机场订阅中的 HY2 节点&quot;">​</a></h2><p>配置文件添加（版本号不重要，含有 <code>clash-verge</code> 字样即可）。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">global-ua</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">clash-verge/v2.2.0</span></span></code></pre></div><h2 id="在命令行中使用代理" tabindex="-1">在命令行中使用代理 <a class="header-anchor" href="#在命令行中使用代理" aria-label="Permalink to &quot;在命令行中使用代理&quot;">​</a></h2><p>在设置页的<strong>复制环境变量类型</strong>选项中选择要使用的命令行类型（<code>PowerShell</code>，<code>Bash</code>，<code>CMD</code>），然后右键屏幕右下方系统托盘里的小图标，选择 <code>复制环境变量</code> 即可复制对应的命令行环境变量。然后在命令行中执行对应的命令即可使用代理。</p><p><strong>复制环境变量得到的IP始终是<code>127.0.0.1</code>?</strong> 添加系统环境变量<code>CLASH_VERGE_REV_IP</code>，值填写为你想要的IP地址，重启应用再复制。</p><h2 id="无法访问公司内网域名" tabindex="-1">无法访问公司内网域名 <a class="header-anchor" href="#无法访问公司内网域名" aria-label="Permalink to &quot;无法访问公司内网域名&quot;">​</a></h2><blockquote><p>无法访问公司内网的域名，而 IP 可以正常访问。</p></blockquote><ul><li>问题原因: 配置中启用了内核的 <code>DNS</code> 模块，却未正确配置 DNS 服务器，导致无法解析内网的主机名/域名（由于内网主机名/域名不公开，即便根域名服务器也无法查到记录）。</li><li>解决办法: 修改配置文件，添加 <code>nameserver-policy</code>配置，为内网域名指定 DNS 服务器（一般为内网网关）。</li></ul><p>假设你的 IP 为 <code>10.10.10.123</code> ，网关为 <code>10.10.10.1</code>，要访问的域名为 <code>www.helloworld.com</code>。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  nameserver-policy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;+.helloworld.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;10.10.10.1&#39;</span></span></code></pre></div><h2 id="gpu-异常占用高" tabindex="-1">GPU 异常占用高 <a class="header-anchor" href="#gpu-异常占用高" aria-label="Permalink to &quot;GPU 异常占用高&quot;">​</a></h2><ul><li>问题原因: 可能出现在某些高刷新率的机器上，帧率过快导致 GPU 开销过大。</li><li>解决办法: <code>设置</code> -&gt; <code>界面设置</code> -&gt; 关闭 <code>流量图显</code>。或升级 Clash Verge Rev 版本至 <code>v1.6.4</code> 及以上（帧率限制为 30）。</li></ul><h2 id="代理界面异常-不显示任何内容" tabindex="-1">代理界面异常，不显示任何内容 <a class="header-anchor" href="#代理界面异常-不显示任何内容" aria-label="Permalink to &quot;代理界面异常，不显示任何内容&quot;">​</a></h2><blockquote><p>代理界面一片空白，不显示任何节点信息，而代理运行正常。</p></blockquote><p>日志提示: <code>External controller listen error: listen tcp 127.0.0.1:9097: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</code></p><ul><li>问题原因: 外部控制端口被其他程序占用，或者外部控制访问密钥含有中文字符。</li><li>解决办法: <code>Clash设置</code> -&gt; <code>外部控制</code> -&gt; 修改 <code>外部控制监听地址</code> 中的端口并保存，然后退出并重启程序。</li></ul><h2 id="watt-toolkit-原名-steam-steamcommunity-302-冲突" tabindex="-1">Watt Toolkit（原名 Steam++）/ steamcommunity 302 冲突 <a class="header-anchor" href="#watt-toolkit-原名-steam-steamcommunity-302-冲突" aria-label="Permalink to &quot;Watt Toolkit（原名 Steam++）/ steamcommunity 302 冲突&quot;">​</a></h2><blockquote><p>使用 Watt Toolkit 或 steamcommunity 302 和 Clash Verge Rev 会导致无法访问被加速服务（如 Steam、Github 等），而 Clash For Windows 正常。</p></blockquote><p>问题原因:</p><ul><li><code>Watt Toolkit</code> / <code>steamcommunity 302</code> 默认是基于 <code>hosts</code> 文件工作的，通过修改系统 <code>hosts</code> 将被加速站点的请求劫持到本地的 <code>80</code> 或 <code>443</code>端口，由在此端口上监听的代理程序代为访问。</li><li><code>Clash For Windows</code> 使用的 <code>Premium</code> 内核并不会查询系统 <code>hosts</code> 文件。<code>Clash Verge Rev</code> 使用的 <code>Meta</code> 内核默认会查询系统 <code>hosts</code> 文件。</li><li>根据使用的<strong>代理模式</strong>、<strong>分流规则</strong>配置、<strong>流量嗅探</strong>配置的不同，会出现不同的情况：使用代理节点访问 <code>127.0.0.1</code>、使用代理节点访问 <code>加速服务器</code>，再访问被代理网站。</li><li>鉴于情况较为复杂，仅给出下列解决方案。<strong>如不能解决，仅建议两者不要同时使用，不再列举所有情况的解决方案</strong>。</li><li>由于不同操作系统、网络程序软件的行为各异，<strong>下列解决方案通常仅可以使得系统代理正常工作，如果使用 TUN 模式请手动清除 <code>hosts</code> 文件的内容，且后续尽量避免修改 <code>hosts</code> 文件</strong>。</li></ul><p>解决办法: 禁用内核查询系统 <code>hosts</code> 的行为。</p><div class="tip custom-block"><p class="custom-block-title">⚠️</p><ul><li>如果你的内核版本至少为<code>v1.18.2</code>，可以将系统变量 <code>DISABLE_SYSTEM_HOSTS</code> 设置为 <code>1</code> 。</li><li>如果你的内核版本至少为<code>v1.18.5</code>（或最新 <code>alpha</code> 版本），可以使用下列方案。</li></ul></div><ul><li>如果你了解配置文件、<code>Merge</code>/<code>Srcipt</code>工作原理，只需按照你能够接受的方式，自行将** DNS 配置**中的<a href="https://wiki.metacubex.one/config/dns/#use-system-hosts" target="_blank" rel="noreferrer">use-system-hosts</a>修改为<code>false</code>即可。<strong>下列方案均基于此原理</strong>。</li><li>如果你的 Clash Verge Rev 版本为 <code>v1.6.2</code>及以上。在订阅页面新建一个 Merge 配置，文件使用以下内容保存并右键<code>启用</code>。</li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  use-system-hosts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div><ul><li>如果你的 Clash Verge Rev 版本为 <code>v1.6.2</code>以下。在订阅页面新建一个 Script 配置，文件使用以下内容保存并右键<code>启用</code>。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  config.dns </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">config.dns, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;use-system-hosts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="代理右上角小图钉-📌-怎么取消" tabindex="-1">代理右上角小图钉 📌 怎么取消 <a class="header-anchor" href="#代理右上角小图钉-📌-怎么取消" aria-label="Permalink to &quot;代理右上角小图钉 📌 怎么取消&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">⚠️</p><ul><li>📌为<strong>红色</strong>表示锁定当前节点，且<strong>当前节点为可用</strong>（自动选择优先选择该节点，尽管延迟不是最小的）。</li><li>📌为<strong>灰色</strong>表示锁定当前节点，但<strong>当前节点不可用</strong>（下次健康检查变为可用时，继续优先使用该节点）。</li><li>当需要为 <code>url-test</code> 类型的代理组设置一个更高优先级的节点，可以使用该方法。</li><li><code>fallback</code> 类型的代理组会在发生故障转移时自动消除。</li></ul></div><p>解决办法: 主动点击 :fontawesome-solid-wifi: 按钮，并等待代理组内节点全部测试完成。</p><video controls><source src="`+n+'"></video><h2 id="测试界面异常超时" tabindex="-1">测试界面异常超时 <a class="header-anchor" href="#测试界面异常超时" aria-label="Permalink to &quot;测试界面异常超时&quot;">​</a></h2><blockquote><p>测试界面进行测试时，但是延迟测试立马提示超时，实际上网站均可以正常访问。可能还会伴随着实际体验延迟较大、TUN 模式比系统代理模式卡顿的情况。</p></blockquote><p><img src="'+r+'" alt="无效证书"></p><ul><li><p>可能原因: 杀毒软件（如火绒）对 HTTPS 连接进行加密，出现证书不一致的情况报错导致。</p></li><li><p>解决办法: 关闭杀毒软件（如火绒） Web 扫描加密功能（各厂商功能名称可能有差异），或将使用的 <code>二进制内核文件</code> 添加到信任程序名单中，并重启程序。</p></li></ul><div class="tip custom-block"><p class="custom-block-title">🎉 节点推荐</p><p>🚀 <a href="https://www.xn--9kqrm7t.com/#/register?code=JRtE5uIV" target="_blank" rel="noreferrer">优信云</a>：IEPL/IPLC 高速专线，￥15.00/月</p></div>',57)]))}const y=e(c,[["render",h]]);export{m as __pageData,y as default};
